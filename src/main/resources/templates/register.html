<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head th:replace="layout/base :: meta_header('ユーザー新規登録',~{::link},~{::script})">	
	<link rel="stylesheet" th:href="@{/css/register.css}" />
	<script type="text/javascript" src="/js/formHandlers.js"></script>
</head>
<body>
	<div th:replace="layout/base :: header"></div>
	
	<div class="container">
		<div class="register-title">
			<h2 class="text-center">新規登録</h2>	
		</div>
		
		<form action="/register" method="post" th:object="${user}" onsubmit="handleOnSubmit();">
			<input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}" />
			
			<div class="mb-3">
				<label for="username" class="form-label">User Name</label>
				<input type="text" class="form-control" id="username" name="username"　th:field="*{username}" required />
			</div>
		  
			<div class="mb-3">
				<label for="email" class="form-label">Email</label>
			    <input type="email" class="form-control" id="email" name="email"　th:field="*{email}" required />
			</div>
						
			<div class="mb-3">
				<label for="password" class="form-label">Password</label>
			    <input type="password" class="form-control" id="password" name="password"　th:field="*{password}" required />
			</div>
			
	  		<button type="submit" class="btn btn-primary" id="loginBtn">新規登録</button>
		</form>
		
		<div class="register-link">
	        <p>既に登録済の方は</p>
	        <a href="/login">こちら</a>
	    </div>
	</div>
		
	<div th:replace="layout/base :: js-footer"></div>
	<script type="text/javascript">
		document.addEventListener("DOMContentLoaded", (event) => {
			let loginBtn = document.getElementById('registerBtn');
			loginBtn.disabled = false; 
		});
	</script>
</body>
</html>